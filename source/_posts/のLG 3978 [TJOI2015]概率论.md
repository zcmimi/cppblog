---
author: zc
avatar: null
categories:
- - "\u5237\u9898\u8BB0\u5F55"
commnet: 1
date: 2020-01-22 22:57
html: "<details><summary>\u67E5\u770B\u539F\u9898</summary><div id='from'></div><p><button\
  \ onclick=\"document.getElementById('from').innerHTML='<iframe src=&quot;https://www.luogu.com.cn/problem/P3978&quot;\
  \ width=100% height=800px style=&quot;border: none;&quot;><iframe>'\" class='mdui-btn\
  \ mdui-btn-raised mdui-ripple'>\u70B9\u51FB\u52A0\u8F7D</button><a class='mdui-btn\
  \ mdui-btn-raised mdui-ripple' href=\"https://www.luogu.com.cn/problem/P3978\" target='_blank'>\u70B9\
  \u51FB\u8DF3\u8F6C</a><p></details>"
permalink: "LG 3978 [TJOI2015]\u6982\u7387\u8BBA"
tags:
- "\u751F\u6210\u51FD\u6570"
- "\u6570\u8BBA"
- "\u5361\u7279\u5170\u6570"
thumbnail: null
title: "LG 3978 [TJOI2015]\u6982\u7387\u8BBA"
top: 0
---
设$f_n$表示$n$个节点可以构成的二叉树的个数,$g_n$表示$n$个节点可以构成的二叉树的叶子节点的总数

打表: 可以发现$g_n=nf_{n-1}$

证明: 对于每棵有$n$个节点的二叉树,若它有$k$个叶子节点,删去后可以得到$k$棵$n-1$个节点的二叉树,而这$k$棵$n-1$个节点的二叉树每棵都有$n$个位置可以放置新的叶子节点

$$
f_1=1\\
f_n=\sum_{i=1}^{n-1}f_if_{n-i-1}
$$

$f$其实就是卡特兰数

代入$ans=\frac{g_n}{f_n}$得到$\frac{n(n+1)}{2(2n-1)}$
```cpp
#include<cstdio>
int main(){
  double n;
  scanf("%lf",&n);
  printf("%.12f",n*(n+1)/2/(2*n-1));
}
```
